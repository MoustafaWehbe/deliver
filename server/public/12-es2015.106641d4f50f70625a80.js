(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{SDmu:function(e,t,r){"use strict";r.r(t),r.d(t,"DriversModule",(function(){return Z}));var n=r("ofXK"),a=r("/t3+"),i=r("Wp6s"),c=r("bTqV"),o=r("NFeN"),s=r("0IaG"),d=r("QibW"),l=r("bv9b"),p=r("wZkO"),m=r("STbY"),h=r("+0xr"),b=r("bSwM"),u=r("M9IT"),f=r("kmnG"),g=r("qFsG"),_=r("d3UM"),w=r("/1cH"),v=r("3Pt+"),D=r("tyNb"),x=r("mrSG"),C=r("fXoL"),y=r("x3QV"),M=r("5eHb");let O=(()=>{class e{constructor(e,t,r,n,a){this.driversService=e,this.fb=t,this.dialogRef=r,this.data=n,this.toastService=a,this.isLoading=!1,this.branches=[],this.drivers=[],this.users=[],this.selectedBranch="",this.statuses=["pending","assigned","spotOrder","finished","returned"],this.serviceType=["transfer orders","others"],this.mainObj=n}ngOnInit(){this.initPage()}initPage(){return Object(x.a)(this,void 0,void 0,(function*(){this.driversForm=new v.g({name:new v.d("update"==this.mainObj.action?this.mainObj.driver.name:"",[v.t.required,v.t.minLength(4)]),phone:new v.d("update"==this.mainObj.action?this.mainObj.driver.phone:"",[v.t.required])}),this.isLoading=!0}))}close(){this.dialogRef.close({})}submitForm(){this.driversForm.valid?this.driversService.createDriver(this.driversForm.value).subscribe(e=>{this.close()}):this.toastService.error("please fill the missing fields")}}return e.\u0275fac=function(t){return new(t||e)(C.yc(y.a),C.yc(v.c),C.yc(s.h),C.yc(s.a),C.yc(M.b))},e.\u0275cmp=C.sc({type:e,selectors:[["app-drivers-modal"]],decls:13,vars:2,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"form__input"],["matInput","","placeholder","Driver name","type","text","formControlName","name"],["matInput","","placeholder","Driver phone","type","tel","formControlName","phone"],["align","end"],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(e,t){1&e&&(C.Ec(0,"mat-dialog-content"),C.Ec(1,"form",0),C.Mc("ngSubmit",(function(){return t.submitForm()})),C.Ec(2,"mat-form-field",1),C.zc(3,"input",2),C.Dc(),C.zc(4,"br"),C.Ec(5,"mat-form-field",1),C.zc(6,"input",3),C.Dc(),C.zc(7,"br"),C.Dc(),C.Dc(),C.Ec(8,"mat-dialog-actions",4),C.Ec(9,"button",5),C.Mc("click",(function(){return t.close()})),C.md(10,"Cancel"),C.Dc(),C.Ec(11,"button",6),C.Mc("click",(function(){return t.submitForm()})),C.md(12),C.Dc(),C.Dc()),2&e&&(C.lc(1),C.Wc("formGroup",t.driversForm),C.lc(11),C.nd(t.mainObj.action))},directives:[s.f,v.u,v.n,v.h,f.b,g.b,v.b,v.m,v.f,s.c,c.a,s.d],styles:[".form[_ngcontent-%COMP%]{width:100%}.form__input[_ngcontent-%COMP%]{width:100%;margin-top:6px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.form-actions__login[_ngcontent-%COMP%]{margin-right:10px}.form-actions__forget[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#536dfe}"]}),e})();var E=r("0MCZ"),P=r("0EQZ");function I(e,t){1&e&&C.zc(0,"mat-progress-bar",9)}function S(e,t){1&e&&(C.Ec(0,"p",10),C.md(1,"Drivers List"),C.Dc())}function k(e,t){if(1&e){const e=C.Fc();C.Ec(0,"div",11),C.Ec(1,"div",12),C.Ec(2,"mat-icon",6),C.md(3,"search"),C.Dc(),C.Dc(),C.Ec(4,"input",13),C.Mc("keyup",(function(t){return C.ed(e),C.Qc().applyFilter(t)})),C.Dc(),C.Ec(5,"button",5),C.Mc("click",(function(){return C.ed(e),C.Qc().showFilterInput()})),C.Ec(6,"mat-icon",6),C.md(7,"close"),C.Dc(),C.Dc(),C.Dc()}}function F(e,t){1&e&&(C.Ec(0,"th",22),C.md(1," Id "),C.Dc())}function j(e,t){if(1&e&&(C.Ec(0,"td",23),C.md(1),C.Dc()),2&e){const e=t.$implicit;C.lc(1),C.od(" ",e.id," ")}}function L(e,t){1&e&&(C.Ec(0,"th",22),C.md(1," Name "),C.Dc())}function z(e,t){if(1&e&&(C.Ec(0,"td",23),C.md(1),C.Dc()),2&e){const e=t.$implicit;C.lc(1),C.od(" ",e.name," ")}}function T(e,t){1&e&&(C.Ec(0,"th",22),C.md(1," Phone "),C.Dc())}function W(e,t){if(1&e&&(C.Ec(0,"td",23),C.md(1),C.Dc()),2&e){const e=t.$implicit;C.lc(1),C.od(" ",e.phone," ")}}function Q(e,t){1&e&&C.zc(0,"tr",24)}function N(e,t){if(1&e){const e=C.Fc();C.Ec(0,"tr",25),C.Mc("click",(function(){C.ed(e);const r=t.$implicit;return C.Qc(2).selection.toggle(r)})),C.Dc()}}function R(e,t){if(1&e&&(C.Ec(0,"table",14),C.Cc(1,15),C.ld(2,F,2,0,"th",16),C.ld(3,j,2,1,"td",17),C.Bc(),C.Cc(4,18),C.ld(5,L,2,0,"th",16),C.ld(6,z,2,1,"td",17),C.Bc(),C.Cc(7,19),C.ld(8,T,2,0,"th",16),C.ld(9,W,2,1,"td",17),C.Bc(),C.ld(10,Q,1,0,"tr",20),C.ld(11,N,1,0,"tr",21),C.Dc()),2&e){const e=C.Qc();C.Wc("dataSource",e.dataSource),C.lc(10),C.Wc("matHeaderRowDef",e.displayedColumns),C.lc(1),C.Wc("matRowDefColumns",e.displayedColumns)}}let B=(()=>{class e{constructor(e,t,r){this.dialog=e,this.driversService=t,this.toastService=r,this.reload=!1,this.displayedColumns=["id","name","phone"],this.selection=new P.c(!0,[]),this.isLoading=!1,this.driversTableData=[],this.isShowFilterInput=!1}ngOnInit(){this.initPage()}ngOnChanges(e){e.reload&&this.getDrivers()}initPage(){this.getDrivers()}getDrivers(){this.isLoading=!0,this.driversService.getDrivers().subscribe(e=>{e&&e.data?(this.driversTableData=e.data,this.dataSource=new h.k(this.driversTableData)):this.driversTableData=[],this.isLoading=!1},e=>{this.isLoading=!1,this.driversTableData=[]})}showFilterInput(){this.isShowFilterInput=!this.isShowFilterInput,this.dataSource=new h.k(this.driversTableData)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)(C.yc(s.b),C.yc(y.a),C.yc(M.b))},e.\u0275cmp=C.sc({type:e,selectors:[["app-drivers-table"]],inputs:{reload:"reload"},features:[C.jc],decls:11,vars:4,consts:[[1,"orders-table-wrapper"],["mode","indeterminate",4,"ngIf"],[1,"orders-table-wrapper__header"],["class","orders-table-wrapper__title",4,"ngIf"],["class","orders-table-wrapper__search",4,"ngIf"],["mat-mini-fab","",1,"orders-table-wrapper__button",3,"click"],[1,"orders-table-wrapper__icon"],[1,"orders-table__content"],["class","orders-table__table","mat-table","",3,"dataSource",4,"ngIf"],["mode","indeterminate"],[1,"orders-table-wrapper__title"],[1,"orders-table-wrapper__search"],[1,"orders-table-wrapper__icon-wrapper"],["matInput","",1,"orders-table-wrapper__search-input",3,"keyup"],["mat-table","",1,"orders-table__table",3,"dataSource"],["matColumnDef","id"],["class","employee-table__table-header","mat-header-cell","",4,"matHeaderCellDef"],["class","employee-table__table-body","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","phone"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"employee-table__table-header"],["mat-cell","",1,"employee-table__table-body"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(C.Ec(0,"mat-card",0),C.ld(1,I,1,0,"mat-progress-bar",1),C.Ec(2,"mat-card-title",2),C.ld(3,S,2,0,"p",3),C.ld(4,k,8,0,"div",4),C.Ec(5,"div"),C.Ec(6,"button",5),C.Mc("click",(function(){return t.showFilterInput()})),C.Ec(7,"mat-icon",6),C.md(8,"search"),C.Dc(),C.Dc(),C.Dc(),C.Dc(),C.Ec(9,"mat-card-content",7),C.ld(10,R,12,3,"table",8),C.Dc(),C.Dc()),2&e&&(C.lc(1),C.Wc("ngIf",t.isLoading),C.lc(2),C.Wc("ngIf",!t.isShowFilterInput),C.lc(1),C.Wc("ngIf",t.isShowFilterInput),C.lc(6),C.Wc("ngIf",!t.isLoading))},directives:[i.a,n.l,i.d,c.a,o.a,i.b,l.a,g.b,h.j,h.c,h.e,h.b,h.g,h.i,h.d,h.a,h.f,h.h],styles:[".orders-table-wrapper[_ngcontent-%COMP%]{padding-left:0;padding-right:0;margin:16px 16px 32px;box-shadow:0 3px 11px 0 #e8eafc,0 3px 3px -2px hsla(0,0%,69.8%,.10196078431372549),0 1px 8px 0 hsla(0,0%,60.4%,.10196078431372549)}.orders-table-wrapper__header[_ngcontent-%COMP%]{padding:0 24px;display:flex;align-items:center;justify-content:space-between}@media (max-width:576px){.orders-table-wrapper__header[_ngcontent-%COMP%]{padding:0 16px}}.orders-table-wrapper__title[_ngcontent-%COMP%]{margin:0}.orders-table-wrapper__search[_ngcontent-%COMP%]{display:flex;align-items:center}.orders-table-wrapper__icon-wrapper[_ngcontent-%COMP%]{height:46px;width:46px;display:flex;align-items:center;justify-content:center}.orders-table-wrapper__icon[_ngcontent-%COMP%]{color:inherit}.orders-table-wrapper__search-input[_ngcontent-%COMP%]{font-size:16px;height:32px;border:0;border-bottom:1px solid #6e6e6e;outline:none}@media (max-width:576px){.orders-table-wrapper__search-input[_ngcontent-%COMP%]{width:150px}}.orders-table-wrapper__search-input[_ngcontent-%COMP%]:focus{border-bottom:2px solid #536dfe}.orders-table-wrapper__button[_ngcontent-%COMP%]{box-shadow:none;background-color:inherit;width:46px;height:46px;color:#6e6e6e}.orders-table-wrapper__button[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.08);color:#536dfe}.orders-table-wrapper__transferBtn[_ngcontent-%COMP%]{margin-left:20px;margin-right:30px}@media (max-width:576px){.orders-table__content[_ngcontent-%COMP%]{overflow-x:scroll}}.orders-table__table[_ngcontent-%COMP%]{width:100%;box-shadow:none}@media (max-width:576px){.orders-table__table[_ngcontent-%COMP%]{width:200%}}.orders-table__table-checkbox[_ngcontent-%COMP%]{width:32px;padding-left:24px}.orders-table__table-body[_ngcontent-%COMP%], .orders-table__table-header[_ngcontent-%COMP%]{padding:1rem;font-size:14px}"]}),e})();var G=r("jQpT");const H=[{path:"",component:(()=>{class e{constructor(e){this.dialog=e,this.reload=!1}ngOnInit(){}createDriver(){this.dialog.open(O,{data:{action:"create",driver:{}},height:"400px",width:"600px"}).afterClosed().subscribe(e=>{this.reload=!this.reload},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(C.yc(s.b))},e.\u0275cmp=C.sc({type:e,selectors:[["app-drivers"]],decls:9,vars:1,consts:[["role","heading",1,"page-header"],["mat-raised-button","","color","primary",1,"orders-table-wrapper__transferBtn",3,"click"],[1,"tables-wrapper"],[3,"reload"]],template:function(e,t){1&e&&(C.Ec(0,"app-layout"),C.Ec(1,"mat-toolbar",0),C.Ec(2,"h1"),C.md(3,"Drivers"),C.Dc(),C.Ec(4,"button",1),C.Mc("click",(function(){return t.createDriver()})),C.md(5,"Create Driver"),C.Dc(),C.Dc(),C.Ec(6,"div",2),C.zc(7,"app-drivers-table",3),C.Dc(),C.zc(8,"app-footer"),C.Dc()),2&e&&(C.lc(7),C.Wc("reload",t.reload))},directives:[E.a,a.a,c.a,B,G.a],styles:[""]}),e})()}];let q=(()=>{class e{}return e.\u0275mod=C.wc({type:e}),e.\u0275inj=C.vc({factory:function(t){return new(t||e)},imports:[[D.f.forChild(H)],D.f]}),e})();var $=r("PCNd");let Z=(()=>{class e{}return e.\u0275mod=C.wc({type:e}),e.\u0275inj=C.vc({factory:function(t){return new(t||e)},imports:[[n.c,a.b,i.c,c.b,o.b,q,s.g,d.c,v.i,p.a,_.b,m.b,h.l,g.c,w.b,f.d,b.b,u.b,l.b,$.a,v.r]]}),e})()}}]);