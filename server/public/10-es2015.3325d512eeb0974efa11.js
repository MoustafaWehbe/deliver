(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{TEzN:function(t,e,a){"use strict";a.r(e),a.d(e,"BranchesModule",(function(){return $}));var n=a("ofXK"),c=a("/t3+"),r=a("Wp6s"),i=a("bTqV"),o=a("NFeN"),s=a("0IaG"),l=a("QibW"),d=a("bv9b"),p=a("wZkO"),b=a("STbY"),h=a("+0xr"),m=a("bSwM"),u=a("M9IT"),f=a("kmnG"),g=a("qFsG"),_=a("d3UM"),w=a("3Pt+"),x=a("tyNb"),D=a("mrSG"),C=a("fXoL"),y=a("V3S8"),M=a("5eHb");let O=(()=>{class t{constructor(t,e,a,n,c){this.branchesService=t,this.fb=e,this.dialogRef=a,this.data=n,this.toastService=c,this.isLoading=!1,this.mainObj=n}ngOnInit(){this.initPage()}initPage(){return Object(D.a)(this,void 0,void 0,(function*(){this.branchesForm=new w.g({name:new w.d("update"==this.mainObj.action?this.mainObj.branch.name:"",[w.t.required,w.t.minLength(4)]),isMain:new w.d("update"==this.mainObj.action&&this.mainObj.branch.isMain,[w.t.required])})}))}close(){this.dialogRef.close({})}submitForm(){this.branchesForm.valid?this.branchesService.createBranch(this.branchesForm.value).subscribe(t=>{this.close()}):this.toastService.error("please fill the missing fields")}}return t.\u0275fac=function(e){return new(e||t)(C.yc(y.a),C.yc(w.c),C.yc(s.h),C.yc(s.a),C.yc(M.b))},t.\u0275cmp=C.sc({type:t,selectors:[["app-add-branch-modal"]],decls:13,vars:2,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"form__input"],["matInput","","placeholder","Branch name","type","text","formControlName","name"],["formControlName","isMain"],["align","end"],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(t,e){1&t&&(C.Ec(0,"mat-dialog-content"),C.Ec(1,"form",0),C.Mc("ngSubmit",(function(){return e.submitForm()})),C.Ec(2,"mat-form-field",1),C.zc(3,"input",2),C.Dc(),C.zc(4,"br"),C.Ec(5,"mat-checkbox",3),C.md(6," Is main? "),C.Dc(),C.zc(7,"br"),C.Dc(),C.Dc(),C.Ec(8,"mat-dialog-actions",4),C.Ec(9,"button",5),C.Mc("click",(function(){return e.close()})),C.md(10,"Cancel"),C.Dc(),C.Ec(11,"button",6),C.Mc("click",(function(){return e.submitForm()})),C.md(12),C.Dc(),C.Dc()),2&t&&(C.lc(1),C.Wc("formGroup",e.branchesForm),C.lc(11),C.nd(e.mainObj.action))},directives:[s.f,w.u,w.n,w.h,f.b,g.b,w.b,w.m,w.f,m.a,s.c,i.a,s.d],styles:[".form[_ngcontent-%COMP%]{width:100%}.form__input[_ngcontent-%COMP%]{width:100%;margin-top:6px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.form-actions__login[_ngcontent-%COMP%]{margin-right:10px}.form-actions__forget[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#536dfe}"]}),t})();var E=a("0MCZ"),v=a("0EQZ");function P(t,e){1&t&&C.zc(0,"mat-progress-bar",9)}function I(t,e){1&t&&(C.Ec(0,"p",10),C.md(1,"Branches List"),C.Dc())}function k(t,e){if(1&t){const t=C.Fc();C.Ec(0,"div",11),C.Ec(1,"div",12),C.Ec(2,"mat-icon",6),C.md(3,"search"),C.Dc(),C.Dc(),C.Ec(4,"input",13),C.Mc("keyup",(function(e){return C.ed(t),C.Qc().applyFilter(e)})),C.Dc(),C.Ec(5,"button",5),C.Mc("click",(function(){return C.ed(t),C.Qc().showFilterInput()})),C.Ec(6,"mat-icon",6),C.md(7,"close"),C.Dc(),C.Dc(),C.Dc()}}function S(t,e){1&t&&(C.Ec(0,"th",22),C.md(1," Name "),C.Dc())}function F(t,e){if(1&t&&(C.Ec(0,"td",23),C.md(1),C.Dc()),2&t){const t=e.$implicit;C.lc(1),C.od(" ",t.name," ")}}function B(t,e){1&t&&(C.Ec(0,"th",22),C.md(1," Id "),C.Dc())}function j(t,e){if(1&t&&(C.Ec(0,"td",23),C.md(1),C.Dc()),2&t){const t=e.$implicit;C.lc(1),C.od(" ",t.id," ")}}function z(t,e){1&t&&(C.Ec(0,"th",22),C.md(1," Is Main "),C.Dc())}function L(t,e){if(1&t&&(C.Ec(0,"td",23),C.md(1),C.Dc()),2&t){const t=e.$implicit;C.lc(1),C.od(" ",t.isMain?"Yes":"No"," ")}}function T(t,e){1&t&&C.zc(0,"tr",24)}function W(t,e){if(1&t){const t=C.Fc();C.Ec(0,"tr",25),C.Mc("click",(function(){C.ed(t);const a=e.$implicit;return C.Qc(2).selection.toggle(a)})),C.Dc()}}function N(t,e){if(1&t&&(C.Ec(0,"table",14),C.Cc(1,15),C.ld(2,S,2,0,"th",16),C.ld(3,F,2,1,"td",17),C.Bc(),C.Cc(4,18),C.ld(5,B,2,0,"th",16),C.ld(6,j,2,1,"td",17),C.Bc(),C.Cc(7,19),C.ld(8,z,2,0,"th",16),C.ld(9,L,2,1,"td",17),C.Bc(),C.ld(10,T,1,0,"tr",20),C.ld(11,W,1,0,"tr",21),C.Dc()),2&t){const t=C.Qc();C.Wc("dataSource",t.dataSource),C.lc(10),C.Wc("matHeaderRowDef",t.displayedColumns),C.lc(1),C.Wc("matRowDefColumns",t.displayedColumns)}}let Q=(()=>{class t{constructor(t,e,a){this.dialog=t,this.branchesService=e,this.toastService=a,this.reload=!1,this.displayedColumns=["id","name","isMain"],this.selection=new v.c(!0,[]),this.isLoading=!1,this.branchesTableData=[],this.isShowFilterInput=!1}ngOnInit(){this.initPage()}initPage(){this.getBranches()}ngOnChanges(t){t.reload&&this.getBranches()}getBranches(){this.isLoading=!0,this.branchesService.getBranches().subscribe(t=>{t&&t.data?(this.branchesTableData=t.data,this.dataSource=new h.k(this.branchesTableData)):this.branchesTableData=[],this.isLoading=!1},t=>{this.isLoading=!1,this.branchesTableData=[]})}showFilterInput(){this.isShowFilterInput=!this.isShowFilterInput,this.dataSource=new h.k(this.branchesTableData)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)(C.yc(s.b),C.yc(y.a),C.yc(M.b))},t.\u0275cmp=C.sc({type:t,selectors:[["app-branches-table"]],inputs:{reload:"reload"},features:[C.jc],decls:11,vars:4,consts:[[1,"orders-table-wrapper"],["mode","indeterminate",4,"ngIf"],[1,"orders-table-wrapper__header"],["class","orders-table-wrapper__title",4,"ngIf"],["class","orders-table-wrapper__search",4,"ngIf"],["mat-mini-fab","",1,"orders-table-wrapper__button",3,"click"],[1,"orders-table-wrapper__icon"],[1,"orders-table__content"],["class","orders-table__table","mat-table","",3,"dataSource",4,"ngIf"],["mode","indeterminate"],[1,"orders-table-wrapper__title"],[1,"orders-table-wrapper__search"],[1,"orders-table-wrapper__icon-wrapper"],["matInput","",1,"orders-table-wrapper__search-input",3,"keyup"],["mat-table","",1,"orders-table__table",3,"dataSource"],["matColumnDef","name"],["class","employee-table__table-header","mat-header-cell","",4,"matHeaderCellDef"],["class","employee-table__table-body","mat-cell","",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","isMain"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"employee-table__table-header"],["mat-cell","",1,"employee-table__table-body"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(C.Ec(0,"mat-card",0),C.ld(1,P,1,0,"mat-progress-bar",1),C.Ec(2,"mat-card-title",2),C.ld(3,I,2,0,"p",3),C.ld(4,k,8,0,"div",4),C.Ec(5,"div"),C.Ec(6,"button",5),C.Mc("click",(function(){return e.showFilterInput()})),C.Ec(7,"mat-icon",6),C.md(8,"search"),C.Dc(),C.Dc(),C.Dc(),C.Dc(),C.Ec(9,"mat-card-content",7),C.ld(10,N,12,3,"table",8),C.Dc(),C.Dc()),2&t&&(C.lc(1),C.Wc("ngIf",e.isLoading),C.lc(2),C.Wc("ngIf",!e.isShowFilterInput),C.lc(1),C.Wc("ngIf",e.isShowFilterInput),C.lc(6),C.Wc("ngIf",!e.isLoading))},directives:[r.a,n.l,r.d,i.a,o.a,r.b,d.a,g.b,h.j,h.c,h.e,h.b,h.g,h.i,h.d,h.a,h.f,h.h],styles:[".orders-table-wrapper[_ngcontent-%COMP%]{padding-left:0;padding-right:0;margin:16px 16px 32px;box-shadow:0 3px 11px 0 #e8eafc,0 3px 3px -2px hsla(0,0%,69.8%,.10196078431372549),0 1px 8px 0 hsla(0,0%,60.4%,.10196078431372549)}.orders-table-wrapper__header[_ngcontent-%COMP%]{padding:0 24px;display:flex;align-items:center;justify-content:space-between}@media (max-width:576px){.orders-table-wrapper__header[_ngcontent-%COMP%]{padding:0 16px}}.orders-table-wrapper__title[_ngcontent-%COMP%]{margin:0}.orders-table-wrapper__search[_ngcontent-%COMP%]{display:flex;align-items:center}.orders-table-wrapper__icon-wrapper[_ngcontent-%COMP%]{height:46px;width:46px;display:flex;align-items:center;justify-content:center}.orders-table-wrapper__icon[_ngcontent-%COMP%]{color:inherit}.orders-table-wrapper__search-input[_ngcontent-%COMP%]{font-size:16px;height:32px;border:0;border-bottom:1px solid #6e6e6e;outline:none}@media (max-width:576px){.orders-table-wrapper__search-input[_ngcontent-%COMP%]{width:150px}}.orders-table-wrapper__search-input[_ngcontent-%COMP%]:focus{border-bottom:2px solid #536dfe}.orders-table-wrapper__button[_ngcontent-%COMP%]{box-shadow:none;background-color:inherit;width:46px;height:46px;color:#6e6e6e}.orders-table-wrapper__button[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.08);color:#536dfe}.orders-table-wrapper__transferBtn[_ngcontent-%COMP%]{margin-left:20px;margin-right:30px}@media (max-width:576px){.orders-table__content[_ngcontent-%COMP%]{overflow-x:scroll}}.orders-table__table[_ngcontent-%COMP%]{width:100%;box-shadow:none}@media (max-width:576px){.orders-table__table[_ngcontent-%COMP%]{width:200%}}.orders-table__table-checkbox[_ngcontent-%COMP%]{width:32px;padding-left:24px}.orders-table__table-body[_ngcontent-%COMP%], .orders-table__table-header[_ngcontent-%COMP%]{padding:1rem;font-size:14px}"]}),t})();var R=a("jQpT");const G=[{path:"",component:(()=>{class t{constructor(t){this.dialog=t,this.reload=!1}ngOnInit(){}createBranch(){this.dialog.open(O,{data:{action:"create",branch:{}},height:"400px",width:"600px"}).afterClosed().subscribe(t=>{this.reload=!this.reload},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(C.yc(s.b))},t.\u0275cmp=C.sc({type:t,selectors:[["app-branches"]],decls:9,vars:1,consts:[["role","heading",1,"page-header"],["mat-raised-button","","color","primary",1,"orders-table-wrapper__transferBtn",3,"click"],[1,"tables-wrapper"],[3,"reload"]],template:function(t,e){1&t&&(C.Ec(0,"app-layout"),C.Ec(1,"mat-toolbar",0),C.Ec(2,"h1"),C.md(3,"Branches"),C.Dc(),C.Ec(4,"button",1),C.Mc("click",(function(){return e.createBranch()})),C.md(5,"Create branch"),C.Dc(),C.Dc(),C.Ec(6,"div",2),C.zc(7,"app-branches-table",3),C.Dc(),C.zc(8,"app-footer"),C.Dc()),2&t&&(C.lc(7),C.Wc("reload",e.reload))},directives:[E.a,c.a,i.a,Q,R.a],styles:[""]}),t})()}];let q=(()=>{class t{}return t.\u0275mod=C.wc({type:t}),t.\u0275inj=C.vc({factory:function(e){return new(e||t)},imports:[[x.f.forChild(G)],x.f]}),t})();var H=a("PCNd");let $=(()=>{class t{}return t.\u0275mod=C.wc({type:t}),t.\u0275inj=C.vc({factory:function(e){return new(e||t)},imports:[[n.c,q,c.b,r.c,i.b,g.c,o.b,s.g,l.c,_.b,w.i,p.a,b.b,h.l,m.b,u.b,f.d,w.r,d.b,H.a]]}),t})()}}]);